<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Variables · JuMP</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-44252521-1', 'auto');
ga('send', 'pageview');
</script><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="JuMP logo"/></a><h1>JuMP</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Introduction</a></li><li><a class="toctext" href="installation.html">Installation Guide</a></li><li><a class="toctext" href="quickstart.html">Quick Start Guide</a></li><li><a class="toctext" href="concepts.html">Concepts</a></li><li class="current"><a class="toctext" href="variables.html">Variables</a><ul class="internal"><li><a class="toctext" href="#What-is-a-JuMP-VariableRef?-1">What is a JuMP VariableRef?</a></li><li><a class="toctext" href="#The-@variable-macro-1">The <code>@variable</code> macro</a></li></ul></li><li><a class="toctext" href="expressions.html">Expressions</a></li><li><a class="toctext" href="constraints.html">Constraints</a></li><li><a class="toctext" href="containers.html">Containers</a></li><li><a class="toctext" href="names.html">Names</a></li><li><a class="toctext" href="solvers.html">Solvers</a></li><li><a class="toctext" href="nlp.html">Nonlinear Modeling</a></li><li><a class="toctext" href="style.html">Style Guide</a></li><li><a class="toctext" href="extensions.html">Extensions</a></li><li><a class="toctext" href="updating.html">Updating Guide</a></li><li><a class="toctext" href="howdoi.html">How do I ...? (FAQ)</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="variables.html">Variables</a></li></ul><a class="edit-page" href="https://github.com/JuliaOpt/JuMP.jl/blob/master/docs/src/variables.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Variables</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Variables-1" href="#Variables-1">Variables</a></h1><h2><a class="nav-anchor" id="What-is-a-JuMP-VariableRef?-1" href="#What-is-a-JuMP-VariableRef?-1">What is a JuMP VariableRef?</a></h2><p>DRAFT: A JuMP variable is a reference to an index in a model. It&#39;s a thin wrapper around MOI.VariableIndex. Variables have (1) names, and (2) attributes. Describe the different scopes of a variable (e.g., as Julia variables, lookup by string name, and lookup by symbol).</p><h2><a class="nav-anchor" id="The-@variable-macro-1" href="#The-@variable-macro-1">The <code>@variable</code> macro</a></h2><p>DRAFT: Describe the complete syntax of the <code>@variable</code> macro. Anonymous versus named variables. Describe the three possible container types returned and how to use them (<code>Array</code>, <code>JuMPArray</code>, and <code>Dict</code>).</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuMP.@variable" href="#JuMP.@variable"><code>JuMP.@variable</code></a> — <span class="docstring-category">Macro</span>.</div><div><pre><code class="language-none">@variable(model, kwargs...)</code></pre><p>Add an <em>anonymous</em> (see <a href="names.html#Names-1">Names</a>) variable to the model <code>model</code> described by the keyword arguments <code>kwargs</code> and returns the variable.</p><pre><code class="language-none">@variable(model, expr, args..., kwargs...)</code></pre><p>Add a variable to the model <code>model</code> described by the expression <code>expr</code>, the positional arguments <code>args</code> and the keyword arguments <code>kwargs</code>. The expression <code>expr</code> can either be (note that in the following the symbol <code>&lt;=</code> can be used instead of <code>≤</code> and the symbol <code>&gt;=</code>can be used instead of <code>≥</code>)</p><ul><li><p>of the form <code>varexpr</code> creating variables described by <code>varexpr</code>;</p></li><li><p>of the form <code>varexpr ≤ ub</code> (resp. <code>varexpr ≥ lb</code>) creating variables described by <code>varexpr</code> with upper bounds given by <code>ub</code> (resp. lower bounds given by <code>lb</code>);</p></li><li><p>of the form <code>varexpr == value</code> creating variables described by <code>varexpr</code> with fixed values given by <code>value</code>; or</p></li><li><p>of the form <code>lb ≤ varexpr ≤ ub</code> or <code>ub ≥ varexpr ≥ lb</code> creating variables described by <code>varexpr</code> with lower bounds given by <code>lb</code> and upper bounds given by <code>ub</code>.</p></li></ul><p>The expression <code>varexpr</code> can either be</p><ul><li><p>of the form <code>varname</code> creating a scalar real variable of name <code>varname</code>;</p></li><li><p>of the form <code>varname[...]</code> or <code>[...]</code> creating a container of variables (see <a href="containers.html#Containers-in-macro-1">Containers in macro</a>.</p></li></ul><p>The recognized positional arguments in <code>args</code> are the following:</p><ul><li><p><code>Bin</code>: Sets the variable to be binary, i.e. either 0 or 1.</p></li><li><p><code>Int</code>: Sets the variable to be integer, i.e. one of ..., -2, -1, 0, 1, 2, ...</p></li><li><p><code>Symmetric</code>: Only available when creating a square matrix of variables, i.e. when <code>varexpr</code> is of the form <code>varname[1:n,1:n]</code> or <code>varname[i=1:n,j=1:n]</code>. It creates a symmetric matrix of variable, that is, it only creates a new variable for <code>varname[i,j]</code> with <code>i ≤ j</code> and sets <code>varname[j,i]</code> to the same variable as <code>varname[i,j]</code>.</p></li><li><p><code>PSD</code>: The square matrix of variable is both <code>Symmetric</code> and constrained to be positive semidefinite.</p></li></ul><p>The recognized keyword arguments in <code>kwargs</code> are the following:</p><ul><li><p><code>basename</code>: Sets the base name used to generate variable names. It corresponds to the variable name for scalar variable, otherwise, the variable names are <code>basename[...]</code> for each indices <code>...</code> of the axes <code>axes</code>.</p></li><li><p><code>lowerbound</code>: Sets the value of the variable lower bound.</p></li><li><p><code>upperbound</code>: Sets the value of the variable upper bound.</p></li><li><p><code>start</code>: Sets the variable starting value used as initial guess in optimization.</p></li><li><p><code>binary</code>: Sets whether the variable is binary or not.</p></li><li><p><code>integer</code>: Sets whether the variable is integer or not.</p></li><li><p><code>variabletype</code>: See the &quot;Note for extending the variable macro&quot; section below.</p></li><li><p><code>container</code>: Specify the container type, see <a href="containers.html#Containers-in-macro-1">Containers in macro</a>.</p></li></ul><p><strong>Examples</strong></p><p>The following are equivalent ways of creating a variable <code>x</code> of name <code>x</code> with lowerbound 0:</p><pre><code class="language-julia"># Specify everything in `expr`
@variable(model, x &gt;= 0)
# Specify the lower bound using a keyword argument
@variable(model, x, lowerbound=0)
# Specify everything in `kwargs`
x = @variable(model, basename=&quot;x&quot;, lowerbound=0)</code></pre><p>The following are equivalent ways of creating a <code>JuMPArray</code> of index set <code>[:a, :b]</code> and with respective upper bounds 2 and 3 and names <code>x[a]</code> and `x[b].</p><pre><code class="language-julia">ub = Dict(:a =&gt; 2, :b =&gt; 3)
# Specify everything in `expr`
@variable(model, x[i=keys(ub)] &lt;= ub[i])
# Specify the upper bound using a keyword argument
@variable(model, x[i=keys(ub)], upperbound=ub[i])</code></pre><p><strong>Note for extending the variable macro</strong></p><p>The single scalar variable or each scalar variable of the container are created using <code>addvariable(model, buildvariable(_error, info, extra_args...; extra_kwargs...))</code> where</p><ul><li><p><code>model</code> is the model passed to the <code>@variable</code> macro;</p></li><li><p><code>_error</code> is an error function with a single <code>String</code> argument showing the <code>@variable</code> call in addition to the error message given as argument;</p></li><li><p><code>info</code> is the <code>VariableInfo</code> struct containing the information gathered in <code>expr</code>, the recognized keyword arguments (except <code>basename</code> and <code>variabletype</code>) and the recognized positional arguments (except <code>Symmetric</code> and <code>PSD</code>);</p></li><li><p><code>extra_args</code> are the unrecognized positional arguments of <code>args</code> plus the value of the <code>variabletype</code> keyword argument if present. The <code>variabletype</code> keyword argument allows the user to pass a position argument to <code>buildvariable</code> without the need to give a positional argument to <code>@variable</code>. In particular, this allows the user to give a positional argument to the <code>buildvariable</code> call when using the anonymous single variable syntax <code>@variable(model, kwargs...)</code>; and</p></li><li><p><code>extra_kwargs</code> are the unrecognized keyword argument of <code>kwargs</code>.</p></li></ul><p><strong>Examples</strong></p><p>The following creates a variable <code>x</code> of name <code>x</code> with lowerbound 0 as with the first example above but does it without using the <code>@variable</code> macro</p><pre><code class="language-julia">info = VariableInfo(true, 0, false, NaN, false, NaN, false, NaN, false, false)
JuMP.addvariable(model, JuMP.buildvariable(error, info), &quot;x&quot;)</code></pre><p>The following creates a <code>JuMPArray</code> of index set <code>[:a, :b]</code> and with respective upper bounds 2 and 3 and names <code>x[a]</code> and <code>x[b]</code> as with the second example above but does it without using the <code>@variable</code> macro</p><pre><code class="language-julia"># Without the `@variable` macro
data = Vector{JuMP.variabletype(model)}(undef, length(keys(ub)))
x = JuMPArray(data, keys(ub))
for i in keys(ub)
    info = VariableInfo(false, NaN, true, ub[i], false, NaN, false, NaN, false, false)
    x[i] = JuMP.addvariable(model, JuMP.buildvariable(error, info), &quot;x[$i]&quot;)
end</code></pre><p>The following are equivalent ways of creating a <code>Matrix</code> of size <code>N x N</code> with variables custom variables created with a JuMP extension using the <code>Poly(X)</code> positional argument to specify its variables:</p><pre><code class="language-julia"># Using the `@variable` macro
@variable(model, x[1:N,1:N], Symmetric, Poly(X))
# Without the `@variable` macro
x = Matrix{JuMP.variabletype(model, Poly(X))}(N, N)
info = VariableInfo(false, NaN, false, NaN, false, NaN, false, NaN, false, false)
for i in 1:N, j in i:N
    x[i,j] = x[j,i] = JuMP.addvariable(model, buildvariable(error, info, Poly(X)), &quot;x[$i,$j]&quot;)
end</code></pre></div><a class="source-link" target="_blank" href="https://github.com/JuliaOpt/JuMP.jl/blob/5daa5b97844a0fcd6b23ec92feecefad599b8b65/src/macros.jl#L1072-L1205">source</a></section><p>How to delete variables.</p><footer><hr/><a class="previous" href="concepts.html"><span class="direction">Previous</span><span class="title">Concepts</span></a><a class="next" href="expressions.html"><span class="direction">Next</span><span class="title">Expressions</span></a></footer></article></body></html>
