<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Problem Modification · JuMP</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-44252521-1', 'auto');
ga('send', 'pageview');
</script><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/highlightjs/default.css" rel="stylesheet" type="text/css"/><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>JuMP</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Introduction</a></li><li><a class="toctext" href="installation.html">Installation Guide</a></li><li><a class="toctext" href="quickstart.html">Quick Start Guide</a></li><li><a class="toctext" href="refmodel.html">Models</a></li><li><a class="toctext" href="refvariable.html">Variables</a></li><li><a class="toctext" href="refexpr.html">Expressions and Constraints</a></li><li class="current"><a class="toctext" href="probmod.html">Problem Modification</a><ul class="internal"><li><a class="toctext" href="#Differences-in-Solvers-1">Differences in Solvers</a></li><li><a class="toctext" href="#Modifying-variables-1">Modifying variables</a></li><li><a class="toctext" href="#Modifying-constraints-1">Modifying constraints</a></li><li><a class="toctext" href="#Modifying-the-objective-1">Modifying the objective</a></li><li><a class="toctext" href="#Modifying-nonlinear-models-1">Modifying nonlinear models</a></li></ul></li><li><a class="toctext" href="callbacks.html">Solver Callbacks</a></li><li><a class="toctext" href="nlp.html">Nonlinear Modeling</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="probmod.html">Problem Modification</a></li></ul><a class="edit-page" href="https://github.com/JuliaOpt/JuMP.jl/tree/22dd94ef112f9bc8585c7aec9abcac2f8d9a13ca/docs/src/probmod.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Problem Modification</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Problem-Modification-1" href="#Problem-Modification-1">Problem Modification</a></h1><p>It can be useful to modify models after they have been created and solved, for example when we are solving many similar models in succession or generating the model dynamically (e.g. column generation). Additionally it is sometimes desirable for the solver to re-start from the last solution to reduce running times for successive solves (&quot;hot-start&quot;). Where available, JuMP exposes this functionality.</p><h2><a class="nav-anchor" id="Differences-in-Solvers-1" href="#Differences-in-Solvers-1">Differences in Solvers</a></h2><p>Some solvers do not expose the ability to modify a model after creation - the model must be constructed from scratch each time. JuMP will use the ability to modify problems exposed by the solver if possible, and will still work even if the solver does not support this functionality by passing the complete problem to the solver every time.</p><h2><a class="nav-anchor" id="Modifying-variables-1" href="#Modifying-variables-1">Modifying variables</a></h2><p>As before, variables can be added using the <code>@variable</code> macro. To remove a variable, one can set the bounds on that variable to zero, e.g.:</p><pre><code class="language-julia">setlowerbound(x, 0.0)
setupperbound(x, 0.0)</code></pre><p>While bound updates are applied immediately in JuMP, variable bound changes are not transmitted to the solver until <code>solve</code> is called again.</p><p>To add variables that appear in existing constraints, e.g. in column generation, there is an alternative form of the <code>@variable</code> macro:</p><pre><code class="language-julia">@variable(m, x, objective = objcoef, inconstraints = constrrefs, coefficients = values)
@variable(m, x &gt;= lb, objective = objcoef, inconstraints = constrrefs, coefficients = values)
@variable(m, x &lt;= ub, objective = objcoef, inconstraints = constrrefs, coefficients = values)
@variable(m, lb &lt;= x &lt;= ub, objective = objcoef, inconstraints = constrrefs, coefficients = values)
@variable(m, lb &lt;= x &lt;= ub, Int, objective = objcoef, inconstraints = constrrefs, coefficients = values)  # Types are supported</code></pre><p>where <code>objcoef</code> is the coefficient of the variable in the new problem, <code>constrrefs</code> is a vector of <code>ConstraintRef</code>, and <code>values</code> is a vector of numbers. To give an example, consider the following code snippet:</p><pre><code class="language-julia">m = Model()
@variable(m, 0 &lt;= x &lt;= 1)
@variable(m, 0 &lt;= y &lt;= 1)
@objective(m, Max, 5x + 1y)
@constraint(m, con, x + y &lt;= 1)
solve(m)  # x = 1, y = 0
@variable(m, 0 &lt;= z &lt;= 1, objective = 10.0, inconstraints = [con], coefficients = [1.0])
# The constraint is now x + y + z &lt;= 1
# The objective is now 5x + 1y + 10z
solve(m)  # z = 1</code></pre><p>In some situations you may be adding all variables in this way. To do so, first define a set of empty constraints, e.g. :</p><pre><code class="language-julia">m = Model()
@constraint(m, con, 0 &lt;= 1)
@objective(m, Max, 0)
@variable(m, 0 &lt;= x &lt;= 1, objective = 5, inconstraints = [con], coefficients = [1.0])
@variable(m, 0 &lt;= y &lt;= 1, objective = 1, inconstraints = [con], coefficients = [1.0])
@variable(m, 0 &lt;= z &lt;= 1, objective = 10, inconstraints = [con], coefficients = [1.0])
solve(m)</code></pre><h2><a class="nav-anchor" id="Modifying-constraints-1" href="#Modifying-constraints-1">Modifying constraints</a></h2><p>JuMP does not currently support changing constraint coefficients. For less-than and greater-than constraints, the right-hand-side can be changed, e.g.:</p><pre><code class="language-julia">@constraint(m, mycon, x + y &lt;= 4)
solve(m)
JuMP.setRHS(mycon, 3)  # Now x + y &lt;= 3
solve(m)  # Hot-start for LPs</code></pre><h2><a class="nav-anchor" id="Modifying-the-objective-1" href="#Modifying-the-objective-1">Modifying the objective</a></h2><p>To change the objective, simply call <code>@objective</code> again - the previous objective function and sense will be replaced.</p><h2><a class="nav-anchor" id="Modifying-nonlinear-models-1" href="#Modifying-nonlinear-models-1">Modifying nonlinear models</a></h2><p>See nonlinear parameters <a href="nlp.html#Nonlinear-Parameters-1">Nonlinear Parameters</a>.</p><footer><hr/><a class="previous" href="refexpr.html"><span class="direction">Previous</span><span class="title">Expressions and Constraints</span></a><a class="next" href="callbacks.html"><span class="direction">Next</span><span class="title">Solver Callbacks</span></a></footer></article></body></html>
